<!-- templates/main/home.html -->
{% extends 'base.html' %}
{% load static %}


{% block title %}ReRoute | Home{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">


<!-- Login Status Message -->
<div style="text-align: center; margin-top: 1rem;">
    {% if user.is_authenticated %}
        <p>You are logged in as <strong>{{ user.username }}</strong>.</p>
    {% else %}
        <p>You are not logged in.</p>
    {% endif %}
</div>


<section class="hero">
    <div class="hero-content">
        <h1>Rebuild. Reclaim. ReRoute.</h1>
        <div class="sub-hero">
            <p><span class="highlight">Rebuild</span> people's views of formerly incarcerated individuals as we help them,</p>
            <p><span class="highlight">Reclaim</span> their place in society in order to</p>
            <p><span class="highlight">ReRoute</span> their future.</p>
        </div>
        <a href="{% url 'signup' %}" class="cta-button">Get Started</a>
    </div>
</section>

<section id="mission" class="mission">
    <div class="mission-content">
        <h2>Our Mission</h2>
        <p>At ReRoute, our mission is to support formerly incarcerated individuals through job readiness, training, and resume building. We aim to shift societal views while giving our clients a meaningful pathway forward.</p>
    </div>
</section>

<section id="vision" class="vision">
    <div class="container">
        <h2>Our Vision</h2>
        <p>At ReRoute, our vision is to break down the stigma surrounding men and women navigating the reentry process. We are building a community that embraces second chances, a space where individuals once shut out by society are supported, not judged.</p>
        <p>ReRoute exists to rebuild trust, restore dignity, and reshape how we view justice-involved individuals. We believe it takes a village not only to raise a child, but to uplift our mothers, fathers, siblings, and neighbors who deserve another shot at life.</p>
        <p>As we grow, we aspire to expand our support through access to technology, education, trade certifications, therapy and personal development, paving new pathways to purpose and opportunity.</p>
    </div>
</section>

<!-- =========================
     Blog Slider Section
     - Shows featured_posts
     - Arrows, dots, keyboard + swipe support
     - Self-contained CSS + JS (move to your static files later)
     ========================= -->
<section class="blog-slider">
  <h2>Our Blog</h2>

  <div class="slider-container">
    <!-- Wrapper holds all slides in a single horizontal row -->
    <div class="slides-wrapper" id="slidesWrapper">
      {% for post in featured_posts %}
        <div class="slide">
          <h3>{{ post.title }}</h3>
          <p>{{ post.content|truncatechars:150 }}</p>
          <small>{{ post.created_at|date:"F j, Y" }}</small><br><br>

          <div class="blog-actions">
            {% url 'blog_detail' slug=post.slug as blog_url %}
            {% if blog_url %}
              <a href="{{ blog_url }}" class="btn-primary">Read Blog →</a>
            {% endif %}

            {% url 'resources' as res_url %}
            {% if res_url %}
              <a href="{{ res_url }}" class="btn-secondary">Go to Resource →</a>
            {% endif %}
          </div>
        </div>
      {% empty %}
        <div class="slide">
          <p>No blog posts available yet. Stay tuned!</p>
        </div>
      {% endfor %}
    </div>

    <!-- Slider Controls (no inline JS; JS is below) -->
    <button type="button" class="slider-btn prev" aria-label="Previous slide">
      <span class="arrow-triangle left"></span>
    </button>
    <button type="button" class="slider-btn next" aria-label="Next slide">
      <span class="arrow-triangle right"></span>
    </button>
  </div>

  <!-- Pagination Dots (JS will populate) -->
  <div class="slider-dots" id="sliderDots"></div>
</section>


<section id="features" class="features">
    <div class="feature">
        <h2>Tech Training</h2>
        <p>Gain in-demand skills through certified bootcamps and workshops.</p>
    </div>
    <div class="feature">
      <h2><a href="{% url 'resumes:resume_welcome' %}" class="feature-link">Resume Help</a></h2>
      <p>Build standout resumes with expert guidance and AI tools.</p>
  </div>
    <div class="feature">
        <h2><a href="{% url 'match_jobs' %}" class="feature-link">Job Matching</a></h2>
        <p>Connect with employers open to second-chance hiring.</p>
    </div>
</section>

<script src="{% static 'js/home.js' %}"></script>
{% endblock %}
